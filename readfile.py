
from pathlib import Path
from opseqtoindex import opseq_to_index

def _test():
    opseq_path = Path("short.opseq")
    indices_list = open_opseq(opseq_path)
    assert 218 in indices_list
    print(indices_list)

def open_opseq(opseq_path: Path) -> list[int]:
    with open(opseq_path) as file:
        lines = file.readlines()
    indices_list = []
    for line in lines:
        chunks = [line[i : i + 2] for i in range(0, len(line), 2)]
        indices_list += opseq_to_index(chunks)
    return indices_list

if __name__ == "__main__":
    _test() 